plugins {
    id 'cpp-library'
}

apply from: "$gradleDir/native.gradle"

//    gradleDir = "${rootProject.getRootDir()}/gradle"

library {
    tasks.withType(CppCompile).configureEach {
        dependsOn(':javawrapper:generateJavacpp')
        includes.from(javaInclude, javaPlatformInclude)
        // Generating /data/wrk/prj/gra/native/javacppsimple/javawrapper/build/javacpp/
        //      jnijavacpp.cpp
        //      jniSimpleProviderLib.cpp
        source.from(
            "${rootProject.getRootDir()}/javawrapper/build/javacpp/jnijavacpp.cpp",
            "${rootProject.getRootDir()}/javawrapper/build/javacpp/jniSimpleProviderLib.cpp"
        )
    }
}

// assembleRelease ... stripSymbolsRelease
// tasks.assemble.dependsOn('linkRelease')
